# zjhServer
c++实现的服务器框架

实现了如下功能模块：
- 线程模块：提供线程类和用于互斥和同步的锁类
- 协程模块：基于ucontext实现了非对称协程，每个线程有且只有一个主协程，只有在主协程中才能创建
           从协程，主协程不分配栈空间也不执行任务，只用来管理从协程。
- N:M协程调度器：实现了一个N:M协程调度器，调度器内置一个线程池。将协程或是直接的回调函数包装成
            struct task，放入task队列，采用生产者消费者模型实现线程对任务队列的消费。调度器线程池中
            线程初始化时创建一个主协程（也就是调度协程），并将该协程记录在线程局部变量上，该协程
            去循环访问任务队列，若一次循环中没有从任务队列里拿到任务，就让出协程执行时间，给Idel协程
            执行。
- IO管理器：用epoll实现IO多路复用，包含将N:M调度器对象，实现了Idle协程的具体执行方法，idle会陷入epollwait，
-           直到被其他线程用管道（epoll监听管道读端）唤醒，或是epoll中有新的事件时唤醒，将epoll事件的task交给
-           协程调度器放入任务队列，并让出idle协程的执行时间，退回主协程，主协程再去消费任务队列中的任务，如果
-           此时任务队列还有未消化的任务，则主协程会向管道中写一个数据，来唤醒其他陷入epollwait的线程。
-           然后主协程让出协程执行时间，让任务协程执行。
- hook模块：使用epoll实现，将某些同步API给异步化
- socket模块：对linux socket编程相关API的封装，同时经由hook模块实现了非阻塞socket
- http模块：采用状态机解析HTTP报文，封装HTTP和TCP相关类
